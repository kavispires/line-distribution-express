(this["webpackJsonpline-distribution-express"]=this["webpackJsonpline-distribution-express"]||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('{"0":{"name":"carnelian","hsb":[0,87,64],"hex":"#A40606","group":"red"},"1":{"name":"newcolor","hsb":[],"hex":"#cccccc","group":"white"},"11":{"name":"orange-soda","hsb":[11,75,96],"hex":"#F4603E","group":"white"},"34":{"name":"carrot-orange","hsb":[34,87,96],"hex":"#F58B00","group":"oranges"},"47":{"name":"saffron","hsb":[47,77,92],"hex":"#EAC435","group":"yellow"},"54":{"name":"minion-yellow","hsb":[54,82,95],"hex":"#F3DE2C","group":"yellow"},"59":{"name":"maximum-yellow","hsb":[59,72,100],"hex":"#FFFC47","group":"yellows"},"82":{"name":"apple-green","hsb":[82,87,71],"hex":"#7CB518","group":"white"},"89":{"name":"spring-green","hsb":[142,67,96],"hex":"#51F58D","group":"white"},"96":{"name":"maximum-green","hsb":[96,77,55],"hex":"#4B8C20","group":"greens"},"102":{"name":"spring-frost","hsb":[102,72,100],"hex":"#7EFF47","group":"white"},"168":{"name":"caribean-green","hsb":[168,99,91],"hex":"#03CEA4","group":"green"},"172":{"name":"turquoise","hsb":[172,64,92],"hex":"#54EAD6","group":"blues"},"201":{"name":"star-command-blue","hsb":[201,100,75],"hex":"#007CBE","group":"blue"},"206":{"name":"blue-jeans","hsb":[206,79,100],"hex":"#35A7FF","group":"blue"},"211":{"name":"lapis-lazuli","hsb":[211,60,55],"hex":"#38618C","group":"blue"},"251":{"name":"slate-blue","hsb":[251,58,87],"hex":"#735CDD","group":"white"},"257":{"name":"lavender-floral","hsb":[257,40,89],"hex":"#A288E3","group":"purple"},"278":{"name":"eminence","hsb":[278,63,46],"hex":"#5A2B75","group":"purples"},"288":{"name":"dark-orchid","hsb":[288,79,80],"hex":"#AB2ACC","group":"white"},"301":{"name":"patriarch","hsb":[301,100,49],"hex":"#7E007B","group":"white"},"333":{"name":"brillian-rose","hsb":[333,64,100],"hex":"#FF5CA5","group":"purple"},"343":{"name":"brink-prink","hsb":[343,70,100],"hex":"#FF4D80","group":"purples"},"352":{"name":"imperial-red","hsb":[352,91,97],"hex":"#F71735","group":"reds"}}')},,function(e){e.exports=JSON.parse('{"a001":{"name":"Squirrel Zone","members":["m001","m006","m002","m003","m004","m005","m007","m008","m009","m010","m011"]},"b002":{"name":"Squirrel Zone I","members":["m001","m002","m003","m004","m005"]},"a003":{"name":"Squirrel Zone 1.5","members":["m001","m006","m003","m004","m005"]},"a004":{"name":"Squirrel Zone II","members":["m007","m008","m009","m010","m011"]}}')},function(e){e.exports=JSON.parse('{"m001":{"name":"Zachary","color":"blue-jeans"},"m002":{"name":"Leo","color":"caribean-green"},"m003":{"name":"3J","color":"carrot-orange"},"m004":{"name":"Bobak","color":"imperial-red"},"m005":{"name":"Bryan","color":"lavender-floral"},"m006":{"name":"Fuduck","color":"spring-frost"},"m007":{"name":"Nicky","color":"brillian-rose"},"m008":{"name":"Robbie","color":"lapis-lazuli"},"m009":{"name":"Sypher","color":"patriarch"},"m010":{"name":"JQ","color":"maximum-yellow"},"m011":{"name":"Nathan","color":"spring-green"}}')},,,,function(e,t,a){e.exports=a.p+"static/media/ld-express-logo.cee03cd6.svg"},function(e,t,a){e.exports=a.p+"static/media/ld-express-logo-negative.41eb13f4.svg"},,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);var l=a(1),s=a(3),i=a(13),m=a(5),u=a.n(m),b=a(7),p=a(2),h=a(9),d=a(10),E={HOME:Symbol("SCREEN"),PRESETS:Symbol("PRESETS"),CREATE:Symbol("CREATE"),DISTRIBUTE:Symbol("DISTRIBUTE")},v=["1","2","3","4","5","6","7","8","9","0","q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#585818",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return{backgroundColor:e,color:t>55?"#000000":"#FFFFFF"}},f=function(e){return e<=5?e:e<=7?3:e<=8?4:e<=10?5:e<=12?4:e<=15?1:e<=16?4:5},O=function(e){var t=h[e],a=t.members.length,n=t.members.reduce((function(e,t,a){var n=d[t],r=u.a.find(b,(function(e){return e.name===n.color}));return e[t]=Object(p.a)({},n,{color:r,id:t,key:v[a],duration:0}),e}),{});return Object(p.a)({id:e},t,{members:n,groupSize:a,boxSize:f(a)})},j=function(){var e=0;return function(){return e++,"p".concat(e)}}(),x={screen:E.HOME,palette:u.a.sortBy(b,[function(e){return e.hsb[0]},function(e){return e.hsb[1]}]),presets:function(){var e=Object.entries(h).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1],r=n.members.map((function(e){return Object(p.a)({},d[e])}));return{id:a,name:n.name,groupSize:r.length,members:r}}));return u.a.sortBy(e,[function(e){return e.name}])}(),customPresets:[],activeGroup:null,keyMemberDict:{},activeBoxes:{},log:[],distributionTotal:0},k=Object(i.createGlobalState)(x).useGlobalState,y=a(14),N=a.n(y);var w=function(){var e=k("screen"),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useCallback)((function(){a!==E.PRESETS&&o(E.PRESETS)}),[o,a]),s=Object(n.useCallback)((function(){a!==E.CREATE&&o(E.CREATE)}),[o,a]);return r.a.createElement("header",{className:"header"},r.a.createElement("button",{className:"header__btn",onClick:c},"Presets"),r.a.createElement("img",{src:N.a,className:"header__logo",alt:"logo"}),r.a.createElement("button",{className:"header__btn",onClick:s},"Create"))},S=a(15),C=a.n(S);var _=function(){return r.a.createElement("main",{className:"content home"},r.a.createElement("img",{src:C.a,className:"home__logo",alt:"logo"}),r.a.createElement("p",null,"Select a preset or create a new set to start distributing"))};var F=function(){var e=k("palette"),t=Object(l.a)(e,1)[0];return console.log(t),r.a.createElement("main",{className:"content create"},r.a.createElement("h3",null,"Color Palette"),r.a.createElement("ul",{className:"color-palette"},t.map((function(e){return r.a.createElement("li",{className:"color",key:e.name,style:g(e.hex,e.hsb[2])},r.a.createElement("span",{className:"color__name"},e.name))}))))};var T=function(){return r.a.createElement("main",{className:"content create"},r.a.createElement("h2",null,"Create"),r.a.createElement("p",null,"TBD"),r.a.createElement(F,null))};var B=function(){var e=k("screen"),t=Object(l.a)(e,2)[1],a=k("activeGroup"),o=Object(l.a)(a,2),c=o[0],s=o[1],i=k("keyMemberDict"),m=Object(l.a)(i,2)[1],u=k("presets"),b=Object(l.a)(u,1)[0],p=k("customPresets"),h=Object(l.a)(p,1)[0],d=Object(n.useCallback)((function(e){var a=e.target.id;if(a&&a!==(null===c||void 0===c?void 0:c.id)){var n=O(e.target.id);m(function(e){return Object.values(e.members).reduce((function(e,t){return e[t.key]=t.id,e}),{})}(n)),s(n)}t(E.DISTRIBUTE)}),[c,t,m,s]);return r.a.createElement("main",{className:"content preset"},r.a.createElement("h2",null,"Presets"),r.a.createElement("p",null,"Select the group preset you want to use:"),r.a.createElement("ul",{className:"presets-list"},b.map((function(e){return r.a.createElement("li",{key:e.id,className:"preset-item"},r.a.createElement("button",{className:"preset-button",id:e.id,onClick:d},e.name," (",e.groupSize," members)"))}))),r.a.createElement("h3",null,"Custom Presets"),h.length>0?r.a.createElement("ul",{className:"presets-list"},b.map((function(e){return r.a.createElement("li",{key:e.id,className:"ha"},e.name," (",e.groupSize,")")}))):r.a.createElement("p",null,"You have no custom presets saved on this browser."))};var D=function(){var e=k("activeGroup"),t=Object(l.a)(e,1)[0],a=k("activeBoxes"),n=Object(l.a)(a,1)[0];return r.a.createElement("h3",{className:"current-action"},function(e,t){var a=e.length;if(0===a)return"-";var n=e.map((function(e){var a,n,r=e.startsWith("box-")?function(e){return e.substring("box-id-".length)}(e):e;return null!==(a=null===(n=t[r])||void 0===n?void 0:n.name)&&void 0!==a?a:"Unknown"})).sort();return 1===a?"".concat(n[0]," is singing."):"".concat(n.join(", ")," are singing")}(Object.keys(n),t.members))};var R=function(){var e=k("activeGroup"),t=Object(l.a)(e,1)[0],a=k("distributionTotal"),n=Object(l.a)(a,1)[0];return r.a.createElement("ul",{className:"progress-bar"},Object.values(t.members).map((function(e){var t="bar-".concat(e.id),a=e.duration>0?100*e.duration/n:0;return r.a.createElement("li",{key:t,className:"bar",style:Object(p.a)({},g(e.color.hex,e.color.hsb[2]),{width:"".concat(Math.round(a),"%"),transition:"width 0.5s"})},a>5?"".concat(a.toFixed(1),"%"):"")})))},I=a(8),A=a(16),P=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LINE",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(A.a)(this,e),this.id=j(),this.memberId=t,this.duration=a,this.category=n,this.clonedFrom=r};var G=function(){var e=k("activeGroup"),t=Object(l.a)(e,1)[0],a=k("activeBoxes"),o=Object(l.a)(a,2),c=o[0],i=o[1],m=k("keyMemberDict"),u=Object(l.a)(m,1)[0],b=k("log"),h=Object(l.a)(b,2)[1],d=Object(n.useState)({}),E=Object(l.a)(d,2),v=E[0],f=E[1],O=Object(n.useCallback)((function(e){i((function(t){return Object(p.a)({},t,Object(s.a)({},e,Date.now()))}))}),[i]),j=Object(n.useCallback)((function(e){var t=c[e],a=Date.now()-t;h((function(t){return[].concat(Object(I.a)(t),[new P(e,a)])})),i((function(t){var a=Object(p.a)({},t);return delete a[e],a}))}),[i,c,h]),x=Object(n.useCallback)((function(e){var t=e.target.id||e.target.parentNode.id;"mousedown"===e.type?O(t):j(t)}),[O,j]),y=Object(n.useCallback)((function(e){var t=e.key,a=u[t];a&&void 0===v[t]&&(f((function(e){return Object(p.a)({},e,Object(s.a)({},t,!0))})),O(a))}),[v,u,O]),N=Object(n.useCallback)((function(e){var t=e.key,a=u[t];a&&v[t]&&(f((function(e){var a=Object(p.a)({},e);return delete a[t],a})),j(a))}),[v,f,u,j]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",y),window.addEventListener("keyup",N),function(){window.removeEventListener("keydown",y),window.removeEventListener("keyup",N)}})),r.a.createElement("ul",{className:"boxes"},Object.values(t.members).map((function(e){var a="box-".concat(e.id);return r.a.createElement("li",{key:a,id:"box-id-".concat(e.id),className:"box box--".concat(t.boxSize),style:g(e.color.hex,e.color.hsb[2]),onMouseDown:x,onMouseUp:x},r.a.createElement("span",{className:"box__key"},e.key),r.a.createElement("span",{className:"box__name"},e.name),r.a.createElement("span",{className:"box__duration"},Number(e.duration/1e3).toFixed(1),"s"))})))};var M=function(e){var t=e.pill,a=k("activeGroup"),n=Object(l.a)(a,1)[0],o=k("log"),c=Object(l.a)(o,2),s=(c[0],c[1],n.members[t.memberId]);return r.a.createElement("li",{className:"pill",style:g(s.color.hex,s.color.hsb[2])},r.a.createElement("button",{className:"pill__icon-button"},"D"),r.a.createElement("button",{className:"pill__icon-button"},"E"),r.a.createElement("span",{className:"pill__label"},s.name," ",r.a.createElement("span",{className:"pill__timestamp"},"(",t.duration,"ms)")),r.a.createElement("button",{className:"pill__icon-button"},"T"))};var z=function(){var e=k("activeGroup"),t=Object(l.a)(e,2)[1],a=k("log"),o=Object(l.a)(a,1)[0],c=k("distributionTotal"),i=Object(l.a)(c,2)[1];return Object(n.useEffect)((function(){var e,a=null!==(e=o[o.length-1])&&void 0!==e?e:{},n=a.duration,r=void 0===n?0:n,c=a.memberId;c&&(t((function(e){return function(e,t,a){return Object(p.a)({},e,{members:Object(p.a)({},e.members,Object(s.a)({},t,Object(p.a)({},e.members[t],{duration:e.members[t].duration+a})))})}(e,c,r)})),i((function(e){return e+r})))}),[o,t,i]),r.a.createElement("ul",{className:"log"},Object(I.a)(o).reverse().map((function(e){return r.a.createElement(M,{pill:e,key:e.id})})))};var J,q=function(){var e=k("activeGroup"),t=Object(l.a)(e,2),a=t[0],o=t[1],c=k("log"),s=Object(l.a)(c,2)[1],i=k("distributionTotal"),m=Object(l.a)(i,2)[1],u=Object(n.useCallback)((function(){s([]),m(0),o((function(e){return O(e.id)}))}),[s,m,o]);return r.a.createElement("main",{className:"content distribute"},r.a.createElement("h1",null,"Distribute - ",a.name),r.a.createElement("nav",{className:"distribute-nav"},r.a.createElement("button",{className:"distribute-nav__button",onClick:u},"Reset"),r.a.createElement("button",{className:"distribute-nav__button"},"Results")),r.a.createElement(D,null),r.a.createElement(R,null),r.a.createElement(G,null),r.a.createElement(z,null))},L=(J={},Object(s.a)(J,E.CREATE,r.a.createElement(T,null)),Object(s.a)(J,E.DISTRIBUTE,r.a.createElement(q,null)),Object(s.a)(J,E.HOME,r.a.createElement(_,null)),Object(s.a)(J,E.PRESETS,r.a.createElement(B,null)),J);var U=function(){var e=k("screen"),t=Object(l.a)(e,1)[0];return r.a.createElement("div",{className:"container"},r.a.createElement(w,null),L[t])};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.952d1273.chunk.js.map